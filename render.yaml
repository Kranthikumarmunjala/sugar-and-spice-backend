services:
  - type: web
    name: sugar-and-spice-backend
    env: python
    plan: free
    buildCommand: "pip install -r requirements.txt && python manage.py collectstatic --noinput && python manage.py migrate"
    startCommand: "gunicorn sugarandspice.wsgi"
    envVars:
      - key: DATABASE_URL
        fromDatabase:
          name: sugar-spice-db  # మీ డేటాబేస్ పేరు ఇక్కడ ఇవ్వండి
          property: internalConnectionString
      - key: SECRET_KEY
        generateValue: true # Render ఆటోమేటిక్‌గా ఒక సీక్రెట్ కీ జనరేట్ చేస్తుంది
      - key: PYTHON_VERSION
        value: 3.13.2
    buildFilters:
      - '**.py'
      - 'requirements.txt'
      - 'Procfile'
      - 'render.yaml'

databases:
  - name: sugar-spice-db # మీ డేటాబేస్ పేరు ఇక్కడ ఇవ్వండి
    plan: free