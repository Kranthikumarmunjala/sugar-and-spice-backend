{% extends 'core/base.html' %}
{% load static %}

{% block title %}{% if base_config %}{{ base_config.title }}{% endif %} - Book a Workshop{% endblock title %}

{% block content %}
<main>
   <div class="booking-container">
       <a href="{% url 'workshops' %}" class="back-link-booking"><i class="fa-solid fa-chevron-left"></i> Back to Workshops</a>
       
       {% if schedule_config %}
            <h2 class="booking-title">{{ schedule_config.title }}</h2>
            <p class="booking-subtitle">{{ schedule_config.description }}</p>
       {% endif %}

       <div class="calendar-availability-wrapper">
           <!-- Calendar Widget -->
           <div class="calendar-widget">
               <div class="calendar-month-header">
                   <button id="prev-month-btn" class="month-nav-btn"><i class="fa-solid fa-chevron-left"></i></button>
                   <span id="month-year-display">Loading...</span>
                   <button id="next-month-btn" class="month-nav-btn"><i class="fa-solid fa-chevron-right"></i></button>
               </div>
               <div class="calendar-grid day-names">
                   <div class="day-name">Sun</div>
                   <div class="day-name">Mon</div>
                   <div class="day-name">Tue</div>
                   <div class="day-name">Wed</div>
                   <div class="day-name">Thu</div>
                   <div class="day-name">Fri</div>
                   <div class="day-name">Sat</div>
               </div>
               <div id="calendar-days-grid" class="calendar-grid">
                   <!-- Calendar days will be generated by JavaScript -->
               </div>
           </div>

           <!-- Availability & Summary Panel -->
           <div class="availability-panel">
               <h4 id="availability-title">Select an available time</h4>
               <div id="availability-slots">
                   <p class="availability-placeholder">Please select a date to see availability.</p>
               </div>
               <hr class="details-divider">
               <div id="service-details-section" class="hidden">
                   <h4>Booking Summary</h4>
                   <div class="service-details-content">
                       <p id="service-price-details" class="service-price"></p>
                       <p id="service-datetime-details"></p>
                       <p>Duration: <span id="service-duration-details"></span></p>
                   </div>
               </div>
               <div class="booking-navigation">
                   <button id="next-button" class="booking-btn-next" disabled>Next</button>
               </div>
           </div>
       </div>
   </div>
   <div class="star-divider">
       <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star-of-life center-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
   </div>
</main>
{% endblock content %}